(function(t){function e(e){for(var n,r,s=e[0],l=e[1],c=e[2],d=0,m=[];d<s.length;d++)r=s[d],o[r]&&m.push(o[r][0]),o[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(m.length)m.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,s=1;s<a.length;s++){var l=a[s];0!==o[l]&&(n=!1)}n&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},o={app:0},i=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/letter/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var n=a("64a9"),o=a.n(n);o.a},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var n=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("Navbar"),a("div",{staticClass:"container"},[a("router-view")],1)],1)},i=[],r={name:"app"},s=r,l=(a("034f"),a("2877")),c=Object(l["a"])(s,o,i,!1,null,null,null),u=c.exports,d=a("8c4f"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("br"),a("br"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6  mx-auto"},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-3 col-form-label col-form-label-sm",attrs:{for:"colFormLabelSm"}},[t._v("Letter Format: ")]),a("div",{staticClass:"col-md-9"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedFormat,expression:"selectedFormat"}],staticClass:"form-control form-control-sm",attrs:{name:"type"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.selectedFormat=e.target.multiple?a:a[0]},function(e){return t.onChange()}]}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Select Letter Format")]),t._l(t.dataFormat,function(e){return a("option",{domProps:{value:e.id}},[t._v(t._s(e.name))])})],2)])]),a("form",{attrs:{id:"form-input"}},[""!=t.inputNik.label?a("div",[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-3 col-form-label col-form-label-sm",attrs:{for:"colFormLabelSm"}},[t._v(t._s(t.inputNik.label))]),a("div",{staticClass:"col-md-9"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedNik,expression:"selectedNik"}],staticClass:"form-control form-control-sm",attrs:{name:"type"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.selectedNik=e.target.multiple?a:a[0]},function(e){return t.changeNik()}]}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Select NIK")]),t._l(t.inputNik.nik,function(e,n){return a("option",[t._v(t._s(e.nik))])})],2)])])]):t._e(),t._l(t.inputForm,function(e){return a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-3 col-form-label col-form-label-sm",attrs:{for:"colFormLabelSm"}},[t._v(t._s(e.name))]),a("div",{staticClass:"col-md-9"},[a("div",{domProps:{innerHTML:t._s(e.html_basic)}})])])})],2),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-3 col-form-label col-form-label-sm",attrs:{for:"colFormLabelSm"}}),a("div",{staticClass:"col-md-9"},[""!=t.selectedFormat?a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.submit()}}},[t._v("Submit")]):t._e()])])])]),a("div",{attrs:{id:"output"},domProps:{innerHTML:t._s(t.html)}})])},p=[],v=(a("7514"),a("96cf"),a("3b8d")),f=(a("7f7f"),a("f499")),h=a.n(f),b=a("bc3a"),C=a.n(b),g=a("d67e"),_=a.n(g),y={name:"Home",data:function(){return{dataFormat:[],selectedFormat:"",inputForm:[],input:[],dataInput:[],html:"",selectedNik:"",inputNik:[],dataNik:[]}},mounted:function(){this.init(),this.inputNik.label=""},methods:{init:function(){this.loadFormat()},submit:function(){var t=this;this.dataInput=JSON.parse(h()(jQuery("#form-input").serializeArray()));var e=new URLSearchParams;e.append("output",this.inputForm[0].output_template);for(var a=0;a<this.dataInput.length;a++)e.append(this.dataInput[a].name,this.dataInput[a].value);C.a.post("http://127.0.0.1/e-letter/format/submit",e).then(function(e){t.html=e.data;var a=document.getElementById("output"),n={margin:15,filename:"myfile.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}};_()().set(n).from(a).save()}).catch(function(t){console.log(t)})},loadFormat:function(){var t=Object(v["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,C.a.get("http://127.0.0.1/e-letter/format/letterFormat");case 2:e=t.sent,this.dataFormat=e.data;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),onChange:function(){var t=Object(v["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.clearForm(),t.next=3,C.a.get("http://127.0.0.1/e-letter/format/formInput/"+this.selectedFormat);case 3:e=t.sent,this.inputForm=e.data,null!=e.data.config&&(this.inputNik=e.data.config,this.inputNik.label="NIK");case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),changeNik:function(){var t=this,e=this.inputNik.nik.find(function(e){return e.nik===t.selectedNik});for(var a in e)"nik"!=a&&$("#"+a).val(e[a])},clearForm:function(){this.inputNik.label=""}}},w=y,k=Object(l["a"])(w,m,p,!1,null,null,null),x=k.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("br"),a("br"),a("button",{staticClass:"btn btn-info btn-sm",attrs:{"data-toggle":"modal","data-target":"#modal-form"},on:{click:function(e){return t.newComponent()}}},[t._v("Add New Component")]),a("br"),a("br"),a("table",{staticClass:"table table-striped table-bordered"},[a("tr",[t._l(t.columns,function(e){return a("th",{staticStyle:{"text-align":"center"}},[t._v(t._s(e))])}),a("th",{staticStyle:{"text-align":"center"}},[t._v("Action")])],2),t._l(t.components,function(e){return 0!==e.length?a("tr",[a("td",{attrs:{width:"20%"}},[t._v(t._s(e.name))]),a("td",{attrs:{width:"20%"}},[t._v(t._s(e.variable_name))]),a("td",[t._v(t._s(e.html_basic))]),a("td",{staticStyle:{"text-align":"center"},attrs:{width:"15%"}},[a("button",{staticClass:"btn btn-md btn-warning btn-sm",attrs:{"data-toggle":"modal","data-target":"#modal-form"},on:{click:function(a){return t.editComponent(e.id)}}},[a("font-awesome-icon",{attrs:{icon:"pen"}})],1),a("button",{staticClass:"btn btn-md btn-danger btn-sm",on:{click:function(a){return t.destroy(e.id)}}},[a("font-awesome-icon",{attrs:{icon:"trash"}})],1),a("button",{staticClass:"btn btn-md btn-info btn-sm",attrs:{"data-toggle":"modal","data-target":"#modal-view"},on:{click:function(a){return t.view(e.id)}}},[a("font-awesome-icon",{attrs:{icon:"eye"}})],1)])]):t._e()})],2),a("div",{staticClass:"modal fade",attrs:{id:"modal-form",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-lg",staticStyle:{"max-width":"900px"}},[a("div",{staticClass:"modal-content "},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v(t._s(t.modal_header))]),a("button",{staticClass:"pull-right close",attrs:{type:"button","data-dismiss":"modal"}},[t._v("×")])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("h6",[t._v("Basic Setting")]),a("hr"),a("form",{attrs:{id:"input-component"}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"usr"}},[t._v("Label: * ")]),a("br"),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.inputComponent.name,expression:"inputComponent.name"}],staticClass:"form-control",attrs:{name:"name",autocomplete:"off",type:"text"},domProps:{value:t.inputComponent.name},on:{input:function(e){e.target.composing||t.$set(t.inputComponent,"name",e.target.value)}}}),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.errors.first("name")))])]),a("div",{staticClass:"form-group"},[a("div",{staticClass:"checkbox"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.fromConfig,expression:"fromConfig"}],attrs:{type:"checkbox",value:"config"},domProps:{checked:Array.isArray(t.fromConfig)?t._i(t.fromConfig,"config")>-1:t.fromConfig},on:{change:function(e){var a=t.fromConfig,n=e.target,o=!!n.checked;if(Array.isArray(a)){var i="config",r=t._i(a,i);n.checked?r<0&&(t.fromConfig=a.concat([i])):r>-1&&(t.fromConfig=a.slice(0,r).concat(a.slice(r+1)))}else t.fromConfig=o}}}),t._v(" Generate with config variable ")])])]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"usr"}},[t._v("Variable Name: * ")]),0==t.fromConfig?a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.inputComponent.variable_name,expression:"inputComponent.variable_name"}],staticClass:"form-control",attrs:{name:"variable_name",autocomplete:"off",type:"text"},domProps:{value:t.inputComponent.variable_name},on:{input:function(e){e.target.composing||t.$set(t.inputComponent,"variable_name",e.target.value)}}}):t._e(),1==t.fromConfig?a("select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.inputComponent.variable_name,expression:"inputComponent.variable_name"}],staticClass:"form-control",attrs:{name:"variable_name"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.inputComponent,"variable_name",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Select NIK")]),t._l(t.dataConfig,function(e){return a("option",[t._v(t._s(e))])})],2):t._e(),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.errors.first("variable_name")))])]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"sel1"}},[t._v("Input type: * ")]),1==t.fromConfig?a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.inputComponent.type="text",expression:"inputComponent.type = 'text'"}],staticClass:"form-control",attrs:{readonly:"",name:"type",autocomplete:"off",type:"text"},domProps:{value:t.inputComponent.type="text"},on:{input:function(e){e.target.composing||t.$set(t.inputComponent,"type = 'text'",e.target.value)}}}):t._e(),0==t.fromConfig?a("select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.inputComponent.type,expression:"inputComponent.type"}],staticClass:"form-control",attrs:{name:"type"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.inputComponent,"type",e.target.multiple?a:a[0])},function(e){return t.onChange(e)}]}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Select input type")]),t._l(t.inputType,function(e){return a("option",[t._v(t._s(e))])})],2):t._e(),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.errors.first("type")))])])])]),a("div",{staticClass:"col-md-6"},["radio"==t.inputComponent.type||"checkbox"==t.inputComponent.type||"dropdown"==t.inputComponent.type?a("div",[a("h6",[t._v("Option Setting")]),a("hr"),t._l(t.options,function(e,n){return a("div",[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"usr"}},[t._v("Option "+t._s(e.countOption)+": ")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-10"},[a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.option,expression:"option.option"}],staticClass:"form-control",staticStyle:{width:"90%"},attrs:{name:"option"+e.countOption,placeholder:"option "+e.countOption,autocomplete:"off",type:"text"},domProps:{value:e.option},on:{input:function(a){a.target.composing||t.$set(e,"option",a.target.value)}}}),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.errors.first("option"+e.countOption)))])]),a("div",{staticClass:"col-md-1"},[t.options.length>1?a("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(e){return t.removeOption(n)}}},[a("font-awesome-icon",{attrs:{icon:"window-close"}})],1):t._e()])])])])}),a("div",{staticClass:"text-center"},["radio"==t.inputComponent.type||"checkbox"==t.inputComponent.type||"dropdown"==t.inputComponent.type?a("button",{staticClass:"btn btn-success btn-sm center",on:{click:function(e){return t.addOption()}}},[a("font-awesome-icon",{attrs:{icon:"plus"}})],1):t._e()])],2):t._e()])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("h6",[t._v("Attribut Setting")]),a("hr"),t._l(t.attributs,function(e,n){return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"usr"}},[t._v("Attribut "+t._s(e.count)+": ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.attribut,expression:"attribut.attribut"}],staticClass:"form-control",attrs:{placeholder:"attribut "+e.count,autocomplete:"off",type:"text"},domProps:{value:e.attribut},on:{input:function(a){a.target.composing||t.$set(e,"attribut",a.target.value)}}})])]),a("div",{staticClass:"col-md-5"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"usr"}},[t._v("Value "+t._s(e.count)+" :  ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"attribut.value"}],staticClass:"form-control",attrs:{placeholder:"value "+e.count,autocomplete:"off",type:"text"},domProps:{value:e.value},on:{input:function(a){a.target.composing||t.$set(e,"value",a.target.value)}}})])]),a("div",{staticClass:"col-md-1"},[a("div",{staticClass:"form-group"},[a("br"),t.attributs.length>1?a("button",{staticClass:"btn btn-danger btn-sm pull-right",on:{click:function(e){return t.removeAttribut(n)}}},[a("font-awesome-icon",{attrs:{icon:"window-close"}})],1):t._e()])])])}),a("div",{staticClass:"text-center"},[a("button",{staticClass:"btn btn-success btn-sm center",on:{click:function(e){return t.addAttribut()}}},[a("font-awesome-icon",{attrs:{icon:"plus"}})],1)])],2)])]),a("div",{staticClass:"modal-footer"},["New Component"==t.modal_header?a("button",{staticClass:"btn btn-save btn-success",attrs:{type:"button"},on:{click:function(e){return t.addComponent()}}},[t._v("Save")]):t._e(),"Edit Component"==t.modal_header?a("button",{staticClass:"btn btn-save btn-success",attrs:{type:"button"},on:{click:function(e){return t.updateComponent(t.inputComponent.id)}}},[t._v("Update")]):t._e(),a("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"modal-view",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-md"},[a("div",{staticClass:"modal-content "},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",domProps:{innerHTML:t._s(t.view_data.name)}}),a("button",{staticClass:"pull-right close",attrs:{type:"button","data-dismiss":"modal"}},[t._v("×")])]),a("div",{staticClass:"modal-body"},[a("div",{domProps:{innerHTML:t._s(t.view_data.html_basic)}})]),t._m(0)])])])])},S=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])}],F={name:"FormComponent",data:function(){return{columns:["Name","Variable Name","HTML Basic"],inputType:["text","number","textarea","date","radio","checkbox","dropdown"],components:[],modal_header:"",data_input:[],inputComponent:{},view_data:[],selectedConfig:"",fromConfig:"",dataConfig:[],alert:!1,attributs:[{attribut:"",value:"",count:1}],count:1,options:[{option:"",countOption:1}],countOptions:1}},mounted:function(){this.init(),this.getConfig()},methods:{init:function(){var t=this;C.a.get("http://127.0.0.1/e-letter/component/index2").then(function(e){t.components=e.data}).catch(function(t){console.log(t)})},getConfig:function(){var t=this;C.a.get("http://127.0.0.1/e-letter/component/config").then(function(e){t.dataConfig=e.data,console.log(t.dataConfig)}).catch(function(t){console.log(t)})},newComponent:function(){var t=Object(v["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.errors.clear(),this.modal_header="New Component",t.next=4,C.a.get("http://127.0.0.1/e-letter/component/list_input");case 4:e=t.sent,this.data_input=e.data,this.count=1,this.countOption=1,this.attributs=[{attribut:"",value:"",count:1}],this.options=[{option:"",countOption:1}],this.inputComponent={};case 11:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),addComponent:function(){var t=this;this.$validator.validate().then(function(e){if(e){var a=new URLSearchParams;a.append("name",t.inputComponent.name),a.append("variable_name",t.inputComponent.variable_name),a.append("type",t.inputComponent.type);for(var n=0;n<t.attributs.length;n++)a.append(t.attributs[n].attribut,t.attributs[n].value);for(n=0;n<t.options.length;n++)""!=t.options[n].option&&a.append("option[]",t.options[n].option);C.a.post("http://127.0.0.1/e-letter/component/create",a).then(function(e){t.init(),$("#modal-form").modal("hide"),t.$swal({position:"top-end",type:"success",title:"Data saved successful",showConfirmButton:!1,timer:1500})}).catch(function(t){console.log(t)})}})},deleteComponent:function(t){var e=this;C.a.delete("http://127.0.0.1/e-letter/component/delete/"+t).then(function(t){e.init()})},destroy:function(t){var e=this;this.$swal({title:"Are you sure?",text:"You won't be able to revert this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(function(a){a.value&&(e.deleteComponent(t),e.$swal({position:"top-end",type:"success",title:"Data deleted successful",showConfirmButton:!1,timer:1500}))})},editComponent:function(t){this.errors.clear(),this.options=[{option:"",countOption:1}],this.attributs=[{attribut:"",value:"",count:1}];var e={},a={};if(this.inputComponent={},this.modal_header="Edit Component",this.inputComponent.id=t,this.inputComponent.type=this.components.find(function(e){return e.id===t}).attribut.type,this.inputComponent.name=this.components.find(function(e){return e.id===t}).name,this.inputComponent.variable_name=this.components.find(function(e){return e.id===t}).variable_name,"radio"!=this.inputComponent.type&&"checkbox"!=this.inputComponent.type&&"dropdown"!=this.inputComponent.type||(e=this.components.find(function(e){return e.id===t}).option),a=this.components.find(function(e){return e.id===t}).attribut,"undefined"!==e)for(var n=0;n<e.length;n++)this.options[n]={option:e[n],countOption:n+1};var o=0;for(var i in a)a.hasOwnProperty(i)&&"type"!=i&&(this.attributs[o]={attribut:i,value:a[i],count:o+1},o++)},updateComponent:function(t){var e=this;this.$validator.validate().then(function(a){if(a){var n=new URLSearchParams;n.append("name",e.inputComponent.name),n.append("variable_name",e.inputComponent.variable_name),n.append("type",e.inputComponent.type);for(var o=0;o<e.attributs.length;o++)n.append(e.attributs[o].attribut,e.attributs[o].value);for(o=0;o<e.options.length;o++)""!=e.options[o].option&&n.append("option[]",e.options[o].option);C.a.post("http://127.0.0.1/e-letter/component/update/"+t,n).then(function(t){e.init(),$("#modal-form").modal("hide"),e.$swal({position:"top-end",type:"success",title:"Data updated successful",showConfirmButton:!1,timer:1500})}).catch(function(t){console.log(t)})}})},onChange:function(t){this.selected_type=t.target.value,this.inputComponent.type=t.target.value},addAttribut:function(){this.count=this.attributs.length,this.attributs.push({attribut:"",count:++this.count})},addOption:function(){this.countOption=this.options.length,this.options.push({option:"",countOption:++this.countOption})},view:function(t){this.view_data=this.components.find(function(e){return e.id===t})},removeOption:function(t){this.options.splice(t,1)},removeAttribut:function(t){this.attributs.splice(t,1)}}},O=F,L=Object(l["a"])(O,N,S,!1,null,null,null),P=L.exports,A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("br"),a("br"),a("button",{staticClass:"btn btn-info btn-sm",attrs:{"data-toggle":"modal","data-target":"#modal-format"},on:{click:function(e){return t.createData()}}},[a("font-awesome-icon",{attrs:{icon:"plus"}}),t._v(" New format")],1),a("br"),a("br"),a("table",{staticClass:"table table-striped table-bordered",attrs:{width:"50%"}},[a("Tr",[a("th",[t._v("Letter Name")]),a("th",[t._v("HTML Output")]),a("th",[t._v("Action")])]),t._l(t.dataFormat,function(e){return a("tr",[a("td",[t._v(t._s(e.name))]),a("td",[a("button",{staticClass:"btn btn-md btn-info btn-sm",attrs:{"data-toggle":"modal","data-target":"#modal-view"},on:{click:function(a){return t.viewData(e.id)}}},[a("font-awesome-icon",{attrs:{icon:"eye"}})],1)]),a("td",{staticStyle:{"text-align":"center"}},[a("button",{staticClass:"btn btn-md btn-warning btn-sm",attrs:{"data-toggle":"modal","data-target":"#modal-format"},on:{click:function(a){return t.editComponent(e.id)}}},[a("font-awesome-icon",{attrs:{icon:"pen"}})],1),a("button",{staticClass:"btn btn-md btn-danger btn-sm",on:{click:function(a){return t.destroy(e.id)}}},[a("font-awesome-icon",{attrs:{icon:"trash"}})],1)])])})],2),a("div",{staticClass:"modal fade",attrs:{id:"modal-format",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-lg"},[a("div",{staticClass:"modal-content "},[t._m(0),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"usr"}},[t._v("Letter Name: * ")]),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.letterName,expression:"letterName"}],staticClass:"form-control",attrs:{name:"letter_name",autocomplete:"off",type:"text"},domProps:{value:t.letterName},on:{input:function(e){e.target.composing||(t.letterName=e.target.value)}}}),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.errors.first("letter_name")))])]),a("div",{staticClass:"checkbox"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataSource,expression:"dataSource"}],attrs:{type:"checkbox",value:"config"},domProps:{checked:Array.isArray(t.dataSource)?t._i(t.dataSource,"config")>-1:t.dataSource},on:{change:function(e){var a=t.dataSource,n=e.target,o=!!n.checked;if(Array.isArray(a)){var i="config",r=t._i(a,i);n.checked?r<0&&(t.dataSource=a.concat([i])):r>-1&&(t.dataSource=a.slice(0,r).concat(a.slice(r+1)))}else t.dataSource=o}}}),t._v(" Generate with config variable")])]),a("br"),a("label",{attrs:{for:"usr"}},[t._v("Letter Format: * ")]),a("br"),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.errors.first("letter_format")))]),a("div",{domProps:{innerHTML:t._s(t.formatLetter)}}),a("br"),a("br"),a("at",{attrs:{members:t.variable_name}},[a("ckeditor",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticStyle:{border:"1px solid lightgray","margin-top":"5px"},attrs:{name:"letter_format",editor:t.editor,config:t.editorConfig},on:{ready:t.onReady},model:{value:t.formatLetter,callback:function(e){t.formatLetter=e},expression:"formatLetter"}})],1)],1),a("div",{staticClass:"modal-footer"},["save"===t.action?a("button",{staticClass:"btn btn-success",on:{click:function(e){return t.save()}}},[t._v("Save")]):t._e(),"update"===t.action?a("button",{staticClass:"btn btn-success",on:{click:function(e){return t.update()}}},[t._v("Update")]):t._e(),a("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"modal-view",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-lg"},[a("div",{staticClass:"modal-content "},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v(t._s(t.view_data.name))]),a("button",{staticClass:"pull-right close",attrs:{type:"button","data-dismiss":"modal"}},[t._v("×")])]),a("div",{staticClass:"modal-body"},[a("div",{staticStyle:{"text-align":"right"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"checked"}],attrs:{type:"checkbox",id:"checkbox"},domProps:{checked:Array.isArray(t.checked)?t._i(t.checked,null)>-1:t.checked},on:{change:function(e){var a=t.checked,n=e.target,o=!!n.checked;if(Array.isArray(a)){var i=null,r=t._i(a,i);n.checked?r<0&&(t.checked=a.concat([i])):r>-1&&(t.checked=a.slice(0,r).concat(a.slice(r+1)))}else t.checked=o}}}),t._v(" HTML\n          ")]),a("br"),a("br"),!1===t.checked?a("div",{domProps:{innerHTML:t._s(t.view_data.output_template)}}):t._e(),!0===t.checked?a("div",[t._v(t._s(t.view_data.output_template))]):t._e()]),t._m(1)])])])])},j=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v("New Format Letter")]),a("button",{staticClass:"pull-right close",attrs:{type:"button","data-dismiss":"modal"}},[t._v("×")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])}],T=a("2996"),q=a.n(T),B=a("a1f5"),E=a.n(B),R={components:{At:E.a},nam:"LetterFormat",data:function(){return{variable_name:[],editor:q.a,formatLetter:"",checked:!1,letterName:"",dataFormat:[],view_data:[],action:"",dataSource:"",editorConfig:{height:600}}},mounted:function(){this.init()},methods:{save:function(){var t=this;this.$validator.validate().then(function(e){e&&t.$validator.validate().then(function(e){if(e){var a=new URLSearchParams;a.append("letter_name",t.letterName),a.append("html_output",t.formatLetter),a.append("data_source",t.dataSource),C.a.post("http://127.0.0.1/e-letter/format/create",a).then(function(e){t.init(),$("#modal-format").modal("hide"),t.resetForm(),t.$swal({position:"top-end",type:"success",title:"Data saved successful",showConfirmButton:!1,timer:1500})}).catch(function(t){console.log(t)})}})})},init:function(){this.loadVariable(),this.loadData()},onReady:function(t){t.ui.getEditableElement().parentElement.insertBefore(t.ui.view.toolbar.element,t.ui.getEditableElement())},createData:function(){this.errors.clear(),this.action="save"},deleteComponent:function(t){var e=this;C.a.delete("http://127.0.0.1/e-letter/format/delete/"+t).then(function(t){e.init()})},destroy:function(t){var e=this;this.$swal({title:"Are you sure?",text:"You won't be able to revert this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(function(a){a.value&&(e.deleteComponent(t),e.init(),e.$swal({position:"top-end",type:"success",title:"Data deleted successful",showConfirmButton:!1,timer:1500}))})},editComponent:function(t){this.action="update",this.letterName=this.dataFormat.find(function(e){return e.id===t}).name,this.formatLetter=this.dataFormat.find(function(e){return e.id===t}).output_template,console.log(this.dataFormat)},update:function(t){var e=this;this.$validator.validate().then(function(a){if(a){var n=new URLSearchParams;n.append("letter_name",e.letterName),n.append("html_output",e.formatLetter),C.a.post("http://127.0.0.1/e-letter/format/update/"+t,n).then(function(t){}).catch(function(t){console.log(t)})}})},loadVariable:function(){var t=Object(v["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,C.a.get("http://127.0.0.1/e-letter/component/variableName");case 2:e=t.sent,this.variable_name=e.data;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),loadData:function(){var t=Object(v["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,C.a.get("http://127.0.0.1/e-letter/format");case 2:e=t.sent,this.dataFormat=e.data;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),viewData:function(t){this.view_data=this.dataFormat.find(function(e){return e.id===t})},resetForm:function(){this.errors.clear(),this.letterName="",this.formatLetter=""}}},M=R,D=Object(l["a"])(M,A,j,!1,null,null,null),H=D.exports;n["a"].use(d["a"]);var I=new d["a"]({routes:[{path:"/",name:"Home",component:x},{path:"/component",name:"FormComponent",component:P},{path:"/format",name:"LetterFormat",component:H}]}),U=a("7bb1"),V=a("619c"),Y=a("3730"),J=a.n(Y),K=(a("1157"),a("4989"),a("f0bd"),a("a89b"),a("ecee")),G=a("c074"),Q=a("ad3d");window.$=window.jQuery=a("1157"),K["c"].add(G["a"],G["e"],G["b"],G["c"],G["d"],G["f"]),n["a"].component("font-awesome-icon",Q["a"]),n["a"].component("Navbar",a("d178").default),n["a"].use(U["a"]),n["a"].use(V["a"]),n["a"].use(J.a),n["a"].config.productionTip=!1,new n["a"]({router:I,render:function(t){return t(u)}}).$mount("#app")},"64a9":function(t,e,a){},a89b:function(t,e,a){},d178:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-primary"},[a("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[t._v("e-Letter")]),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNav"}},[a("ul",{staticClass:"navbar-nav"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/"}},[t._v("Home")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/component"}},[t._v("Component")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/format"}},[t._v("Format")])],1)])])])},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],i={name:"Navbar"},r=i,s=a("2877"),l=Object(s["a"])(r,n,o,!1,null,null,null);e["default"]=l.exports}});
//# sourceMappingURL=app.c9bee8a4.js.map